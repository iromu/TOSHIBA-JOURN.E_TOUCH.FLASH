import com.wantez.utils.XMLAdapter;/***@author Ivan Rodriguez*/class com.wantez.bootstrap.Application{	public var path:String;	public function Application()	{		trace("Aplicacion inicializada");	}	public static function main():Void	{		var app:Application = new Application();		app.init();	}	public function init():Void	{		this.loadVideos();		this.setupListComponent();		var closeHandler:Object = new Object();		closeHandler.click = function(evt:Object)		{			_root.app.closeVideo();		};		_root.closebtn.onRelease = closeHandler.click;		_root.player.skinAutoHide = false;		_root.player._alpha = 0;		_root.player.enabled = false;		_root.closebtn._alpha = 0;		_root.closebtn.enabled = false;	}	public function setupListComponent():Void	{		_root.lista.rowHeight = 50;				_root.lista.setStyle("fontSize",20);		_root.lista.setStyle("color",0xFFFFFF);				_root.lista.setStyle("backgroundColor",0x68676F);		_root.lista.setStyle("selectionColor",0x413D4A);		_root.lista.setStyle("textSelectedColor",0xFFFFFF);		_root.lista.setStyle("rollOverColor",0x43356F);		_root.lista.setStyle("textRollOverColor",0xFFFFFF);				_root.lista.setStyle("alternatingRowColors",[0x68676F, 0x5E5C65]);		_root.lista.multipleSelection = false;		_root.lista.hScrollPolicy = "off";		_root.lista.vScrollPolicy = "auto";		 		var listHandler:Object = new Object();		listHandler.change = function(evt:Object)		{			if (_root.lista.enabled)			{				_root.app.path = evt.target.selectedItem.data;				//nextFrame();				_root.lista._alpha = 0;				_root.lista.enabled = false;				_root.player._alpha = 100;				_root.player.enabled = true;				_root.closebtn._alpha = 100;				_root.closebtn.enabled = true;				_root.app.playVideo();			}		};		_root.lista.addEventListener("change",listHandler);	}	public function playVideo():Void	{		_root.player.contentPath = this.path;		_root.player.play();	}	public function closeVideo():Void	{		trace("closeVideo");		_root.player._alpha = 0;		_root.player.enabled = false;		_root.player.stop();		_root.closebtn._alpha = 0;		_root.closebtn.enabled = false;		_root.lista._alpha = 100;		_root.lista.enabled = true;	}	public function loadVideos():Void	{		var xml:XML = new XML();		xml.ignoreWhite = true;		xml.onLoad = function(ok)		{			if (ok)			{				_root.app.renderListaVideos(this);			}			else			{				trace("error al cargar el xml");			}		};		xml.load("xml/videos.xml");	}	public function renderListaVideos(data:XML):Void	{		var adapter:XMLAdapter = new XMLAdapter(data);		var videos:Array = adapter.toArray();		//_root.lista.dataProvider = videos;		for (var i:Number = 0; i < videos.length; i++)		{			_root.lista.addItem({label:videos[i].path, data:videos[i].path});		}	}}